!function(){tinymce.create("tinymce.plugins.tiny_bootstrap_elements_light",{init:function(t,e){function n(n,r,c,l){function b(){var t="",o=tinymce.activeEditor.getParam("language");return o||(o="en_EN"),t+='<input type="hidden" name="bs-code" id="bs-code" />',t+='<iframe src="'+e+"/"+n+"?language="+o+"&css_paths="+y+"&"+p+"&"+(new Date).getTime()+'" frameborder="0"></iframe>'}var d=s(),p="";g(d).hasClass("active")&&(g(d).hasClass("btn")?p=i(d,"bsBtn"):g(d).hasClass("label")?p=i(d,"bsLabel"):g(d).hasClass("badge")?p=i(d,"bsBadge"):g(d).hasClass("alert")&&(p=i(d,"bsAlert")));var m=u;g(window).width()<885&&(m=.9*g(window).width()),g(window).height()>c&&(c=.9*g(window).height()-90),win=t.windowManager.open({title:r,width:m,height:c,html:b(),buttons:[{text:"OK",subtype:"primary",onclick:function(t){a(t,l),this.parent().parent().close()}},{text:"Cancel",onclick:function(){this.parent().parent().close()}}]},{jquery:g}),g(".mce-floatpanel").find(".mce-abs-layout-item.mce-first").css({left:"auto",right:"82px"}),g(".mce-floatpanel").find(".mce-last.mce-abs-layout-item").css({left:"auto",right:"10px"}),g(window).on("resize",function(){o()})}function o(){var t=u;t=g(window).width()>u?u:.9*g(window).width(),g(".mce-floatpanel").width(t).css("left",(g(window).width()-t)/2),g(".mce-floatpanel").find(".mce-container-body, .mce-foot, .mce-abs-layout").width(t),768>t?g("iframe").contents().find(".container").addClass("container-xs"):g("iframe").contents().find(".container").removeClass("container-xs")}function s(){var e=t.selection.getNode();if(!g(e).hasClass("active")||g(e).closest("div.alert").length>0)for(var n=[".alert"],o=!1,s=0;s<n.length;s++)g(e).closest(n[s]).length>0&&o===!1&&(e=g(e).closest(n[s]),o=!0);return e}function a(e,n){var o=r(document.getElementById("bs-code").value)+"<p></p>",a=s();if(g(a).hasClass("active")){var i={bsBtn:"btn",bsLabel:"label",bsBadge:"badge",bsAlert:"alert"};for(var c in i){var l=i[c];n==c&&g(a).hasClass(l)&&t.dom.remove(a)}}t.insertContent(o),tinymce.activeEditor.dom.remove(tinymce.activeEditor.dom.select('br[data-mce-bogus="1"]'))}function i(t,e){var n="";if("bsBtn"==e){var o,s=g(t)[0].outerHTML.replace(" active",""),a="";g(t).find("span")[0]&&(a=g(t).find("span").attr("class").split(" ")[1]);var i=new Array("default","btn-primary","btn-success","btn-info","btn-warning","btn-danger"),r="";for(o=i.length-1;o>=0;o--)g(t).hasClass(i[o])&&(r=i[o]);var c=new Array("btn-xs","btn-sm","btn-lg"),l="";for(o=c.length-1;o>=0;o--)g(t).hasClass(c[o])&&(l=c[o]);var b=g(t).prop("tagName").toLowerCase(),d="";"a"==b&&(d=g(t).attr("href"));var p="";("button"==b||"input"==b)&&(p=g(t).attr("type"));var u;u="button"==b||"a"==b?g(t).remove("i").text():g(t).val();var m="prepend";if(g(t).find("span")[0]){var h=new RegExp("/^"+u+"/");h.test(g(t).html())!==!0&&(m="append")}s=encodeURIComponent(s),a=encodeURIComponent(a),r=encodeURIComponent(r),l=encodeURIComponent(l),b=encodeURIComponent(b),d=encodeURIComponent(d),p=encodeURIComponent(p),u=encodeURIComponent(u),m=encodeURIComponent(m),n="btnCode="+s+"&btnIcon="+a+"&btnStyle="+r+"&btnSize="+l+"&btnTag="+b+"&btnHref="+d+"&btnType="+p+"&btnText="+u+"&iconPos="+m}else("bsLabel"==e||"bsBadge"==e||"bsAlert"==e)&&(n="edit=true");return n}function r(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}function c(){g(t.dom.select("body")).on("click keyup",function(t){var e="",n="";g(t.target).attr("class")?g(t.target).attr("class").match(/btn/)?(e=".btn",n="insertBtnBtn"):g(t.target).attr("class").match(/label/)?(e=".label",n="insertLabelBtn"):g(t.target).attr("class").match(/badge/)?(e=".badge",n="insertBadgeBtn"):g(t.target).attr("class").match(/alert/)&&(e=".alert",n="insertAlertBtn"):g(t.target).closest(".alert").attr("class")&&(e=".alert",n="insertAlertBtn"),b(),""!==e&&l(t.target,e,n)}),b()}function l(e,n,o){".btn"==n&&t.selection.setCursorLocation(e,!0),".alert"==n?(g(e).closest(".alert").addClass("active"),d(o,"on")):(g(e).addClass("active"),d(o,"on"))}function b(){for(var e=new Array(".btn",".label",".badge",".alert"),n=0;n<e.length;n++)g(t.dom.select(e[n])).removeClass("active");d("allBtns","off")}function d(e,n){for(var o=t.buttons.tiny_bootstrap_elements_light.items,s=o.length-1;s>=0;s--)("allBtns"==e||o[s]._name==e)&&("on"==n?o[s].addClass("active"):o[s].removeClass("active"))}function p(){g('<div id="buy-pro-version" style="position:absolute;top:-100px;left:50%;width:580px;margin-left:-225px;z-index:1000000"><a href="http://codecanyon.net/item/tiny-bootstrap-elements-wordpress-plugin/10293837"><p class="button button-primary button-large" style="height:auto !important;padding:20px !important"><button type="button" id="close-btn" style="float:right;margin-top:-4px;padding:0 5px; background:#FFF;color:#333">Ã—</button><strong>Get this feature on PRO version at</strong><br>http://codecanyon.net/item/tiny-bootstrap-elements-wordpress-plugin/10293837</p></a></div>').appendTo(".mce-tinymce.mce-container"),g("#close-btn").on("click",function(t){return t.stopPropagation(),g("#buy-pro-version").fadeOut(400),!1})}var g=jQuery.noConflict();tinymce.PluginManager.requireLangPack("tiny_bootstrap_elements_light");var u=885,m=t.settings.extended_valid_elements;"undefined"==typeof m?m="div[*],span[class|style],a[accesskey|contextmenu|data-*|disabled|hidden|lang|style|media|download|id|rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur]":m+=",div[*],span[class|style],a[accesskey|contextmenu|data-*|disabled|hidden|lang|style|media|download|id|rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur]",tinyMCE.activeEditor.settings.extended_valid_elements=m,"undefined"==typeof t.settings.bootstrapLightConfig&&(t.settings.bootstrapLightConfig=[]),""===t.settings.bootstrapLightConfig.bootstrapLightCssPath&&""===t.settings.bootstrapLightConfig.frontEndLightCssFiles?(bootstrapLightCssPath=e+"/css/bootstrap.min.css",t.settings.bootstrapLightConfig.bootstrapLightCssPath={bootstrapLightCssPath:bootstrapLightCssPath}):bootstrapLightCssPath=t.settings.bootstrapLightConfig.bootstrapLightCssPath,"undefined"==typeof t.settings.bootstrapLightConfig.bootstrapElementsLight&&(t.settings.bootstrapLightConfig.bootstrapElementsLight={btn:!0,label:!0,badge:!0,alert:!0}),bootstrapElementsLight=t.settings.bootstrapLightConfig.bootstrapElementsLight;var h=t.settings.content_css;h="undefined"==typeof h?bootstrapLightCssPath+","+e+"/css/editor-content.css":h+","+bootstrapLightCssPath+","+e+"/css/editor-content.css",t.settings.content_css=h;var f=t.settings.bootstrapLightConfig.frontEndLightCssFiles;""!==f&&(t.settings.content_css+=", "+f);var y=bootstrapLightCssPath;""!==f&&(y+=", "+f),t.on("init",function(){var n=e+"/css/editor.css";document.createStyleSheet?document.createStyleSheet(n):(cssLink=t.dom.create("link",{rel:"stylesheet",href:n}),document.getElementsByTagName("head")[0].appendChild(cssLink));var o=t.settings.bootstrapLightConfig.tinymceLightBackgroundColor;""!==o&&t.dom.addStyle(".mce-content-body {background-color: "+o+" !important}"),c()});var v=[],B=tinymce.ui.Factory.create({type:"button",text:"",classes:"widget btn bs-icon-btn",icon:"bootstrap-icon",tooltip:"Bootstrap Elements Light"});if(v.push(B),bootstrapElementsLight.btn){var C=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn",icon:"icon-btn",name:"insertBtnBtn",tooltip:"Insert/Edit Bootstrap Button",onclick:function(){n("bootstrap-btn.php","Insert/Edit Bootstrap Button",580,"bsBtn")}});v.push(C)}var w=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-image",name:"insertImageBtn",tooltip:"Insert/Edit Bootstrap Image",onclick:function(){p()}});v.push(w);var L=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-icon",name:"insertIconBtn",tooltip:"Insert/Edit Bootstrap Icon",onclick:function(){p()}});v.push(L);var E=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-table",name:"insertTableBtn",tooltip:"Insert/Edit Bootstrap Table",onclick:function(){p()}});v.push(E);var I=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-template",name:"insertTemplateBtn",tooltip:"Insert Bootstrap Template",onclick:function(){p()}});v.push(I);var k=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-breadcrumb",name:"insertBreadcrumbBtn",tooltip:"Insert/Edit Bootstrap Breadcrumb",onclick:function(){p()}});v.push(k);var _=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-pagination",name:"insertPaginationBtn",tooltip:"Insert/Edit Bootstrap Pagination",onclick:function(){p()}});v.push(_);var x=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-pager",name:"insertPagerBtn",tooltip:"Insert/Edit Bootstrap Pager",onclick:function(){p()}});if(v.push(x),bootstrapElementsLight.label){var P=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn",icon:"icon-label",name:"insertLabelBtn",tooltip:"Insert/Edit Bootstrap Label",onclick:function(){n("bootstrap-label.php","Insert/Edit Bootstrap Label",350,"bsLabel")}});v.push(P)}if(bootstrapElementsLight.badge){var F=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn",icon:"icon-badge",name:"insertBadgeBtn",tooltip:"Insert/Edit Bootstrap Badge",onclick:function(){n("bootstrap-badge.php","Insert/Edit Bootstrap Badge",350,"bsBadge")}});v.push(F)}if(bootstrapElementsLight.alert){var T=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn",icon:"icon-alert",name:"insertAlertBtn",tooltip:"Insert/Edit Bootstrap Alert",onclick:function(){n("bootstrap-alert.php","Insert/Edit Bootstrap Alert",580,"bsAlert")}});v.push(T)}var A=tinymce.ui.Factory.create({type:"button",classes:"widget btn bs-icon-btn bs-icon-btn-disabled",icon:"icon-panel",name:"insertPanelBtn",tooltip:"Insert/Edit Bootstrap Panel",onclick:function(){p()}});v.push(A),t.addButton("tiny_bootstrap_elements_light",{type:"buttongroup",classes:"bs-btn",items:v})},createControl:function(){return null},getInfo:function(){return{longname:"Tiny Bootstrap Elements Light",author:"Gilles Migliori",authorurl:"http://www.creation-site.org",infourl:"http://codecanyon.net/item/tinymce-bootstrap-plugin/10086522",version:"1.0"}}}),tinymce.PluginManager.add("tiny_bootstrap_elements_light",tinymce.plugins.tiny_bootstrap_elements_light)}(jQuery);